
dofilepath("data:leveldata/campaign/fxlf_1/fxlf_1/res/LF_Header.lua")


LF_Enemy_Fighter_Table={}
LF_Enemy_Fighter_Table[1]={"vgr_interceptor","vgr_bomber"}
LF_Enemy_Fighter_Table[2]={"vgr_interceptor","vgr_bomber","hgn_attackbomber","hgn_interceptor","vgr_lancefighter","kad_lanceswarmer"}
LF_Enemy_Fighter_Table[3]={"vgr_interceptor","hgn_interceptor","hgn_attackbomber","hgn_attackbomberelite","vgr_bomber","vgr_lancefighter"}
LF_Enemy_Fighter_Table[4]={"hgn_interceptor","hgn_attackbomber","hgn_attackbomberelite","vgr_lancefighter","vgr_bomber","vgr_interceptor"}
LF_Enemy_Fighter_Table[5]={}
LF_Enemy_Fighter_Table[6]={}
LF_Enemy_Fighter_Table[7]={"hgn_interceptor","hgn_attackbomberelite","vgr_lancefighter","kad_lanceswarmer"}
LF_Enemy_Fighter_Table[8]={"kpr_attackdroid","hgn_attackbomberelite","vgr_lancefighter","kpr_attackdroid","kpr_attackdroid"}

LF_ENE1_Size={2,6,6,6,0,0,4,5}



LF_Enemy_Corvette_Table={}
LF_Enemy_Corvette_Table[1]={"tur_standardcorvette","tur_standardcorvette"}
LF_Enemy_Corvette_Table[2]={"vgr_missilecorvette","tur_missilecorvette","vgr_lasercorvette"}
LF_Enemy_Corvette_Table[3]={"hgn_assaultcorvetteelite","hgn_pulsarcorvette","vgr_lasercorvette","vgr_missilecorvette"}
LF_Enemy_Corvette_Table[4]={"kpr_mover","kpr_attackdroid"}
LF_Enemy_Corvette_Table[5]={}
LF_Enemy_Corvette_Table[6]={"vgr_lasercorvette","kpr_heavymover"}
LF_Enemy_Corvette_Table[7]={"hgn_assaultcorvetteelite","hgn_pulsarcorvette","vgr_lasercorvette","vgr_missilecorvette","kpr_mover","kpr_attackdroid"}
LF_Enemy_Corvette_Table[8]={"hgn_assaultcorvetteelite","kpr_heavymover","vgr_lasercorvette","vgr_missilecorvette","kpr_movers","kpr_attackdroid","kad_advancedassaultswarmer","kad_advancedassaultswarmer","kad_advancedassaultswarmer","kad_advancedassaultswarmer"}

LF_ENE2_Size={2,3,4,2,0,2,6,10}




LF_Enemy_HW1_Table={}
LF_Enemy_HW1_Table[1]={"kad_swarmer","tai_interceptor","tur_fighter","kus_scout","tai_scout","kus_attackbomber","kus_interceptor"}
LF_Enemy_HW1_Table[2]={"kad_swarmer","kad_swarmer","kad_swarmer","kad_swarmer","kad_swarmer","tur_fighter","tur_standardcorvette"}
LF_Enemy_HW1_Table[3]={"kus_scout","kus_interceptor","kus_lightcorvette","kus_multiguncorvette","kus_repaircorvette","kus_salvagecorvette","kus_cloakedfighter"}
LF_Enemy_HW1_Table[4]={"tai_scout","tai_interceptor","tai_lightcorvette","tai_multiguncorvette","tai_repaircorvette","tai_repaircorvette","tai_defensefighter"}
LF_Enemy_HW1_Table[5]={"tur_fighter","tur_standardcorvette","tur_missilecorvette","tur_missilecorvette"}
LF_Enemy_HW1_Table[6]={"kad_advancedswarmer","kad_lanceswarmer","kad_advancedassaultswarmer","kad_Variationswarmer"}
LF_Enemy_HW1_Table[7]={"kus_defender"}
LF_Enemy_HW1_Table[8]={
"kus_cloakedfighter",
"kus_interceptor",
"kus_lightcorvette",
"kus_multiguncorvette",
"kus_repaircorvette",
"kus_salvagecorvette",
"kus_scout",
"tai_attackbomber",
"tai_defensefighter",
"tai_lightcorvette",
"tai_multiguncorvette",
"tai_repaircorvette",
"tai_salcapcorvette",
"tai_scout",
"kad_advancedswarmer",
"tur_standardcorvette",
"tur_missilecorvette"
}

LF_ENE_HW1_Size={7,7,7,7,4,4,1,17}




LF_Enemy_Frigate_Table={}
LF_Enemy_Frigate_Table[1]={}
LF_Enemy_Frigate_Table[2]={"hgn_assaultfrigate","vgr_assaultfrigate","kus_assaultfrigate","tai_assaultfrigate"}
LF_Enemy_Frigate_Table[3]={"hgn_assaultfrigate","hgn_torpedofrigate","vgr_heavymissilefrigate","tur_Garbage","kus_assaultfrigate"}
LF_Enemy_Frigate_Table[4]={"hgn_assaultfrigate","hgn_torpedofrigate","hgn_ioncannonfrigate","hgn_marinefrigate","vgr_heavymissilefrigate","kus_ioncannonfrigate","kus_assaultfrigate","tai_ioncannonfrigate","kus_supportfrigate"}

LF_Enemy_Frigate_Table[5]={"tur_ionarrayfrigate"}
LF_Enemy_Frigate_Table[6]={"kad_multibeamfrigate_lf"}
LF_Enemy_Frigate_Table[7]={"tur_ionarrayfrigate","kad_multibeamfrigate_lf","hgn_ioncannonfrigate","kus_ioncannonfrigate","tai_ioncannonfrigate"}
LF_Enemy_Frigate_Table[8]={
"hgn_assaultfrigate",
"hgn_torpedofrigate",
"hgn_ioncannonfrigate",
"hgn_marinefrigate",
"vgr_heavymissilefrigate",
"kus_ioncannonfrigate",
"kus_assaultfrigate",
"tai_ioncannonfrigate",
"kus_supportfrigate",
"kad_multibeamfrigate",
"tur_ionarrayfrigate",
"tur_vulcanfrigate"
}


LF_ENE3_Size={0,4,5,9,1,1,5,12}

LF_Enemy_Capital_Table={}
LF_Enemy_Capital_Table[1]={}
LF_Enemy_Capital_Table[2]={}
LF_Enemy_Capital_Table[3]={}
LF_Enemy_Capital_Table[4]={"kpr_destroyer_lf"}
LF_Enemy_Capital_Table[5]={}
LF_Enemy_Capital_Table[6]={}
LF_Enemy_Capital_Table[7]={"hgn_destroyer","vgr_destroyer","kus_destroyer","tai_destroyer","hgn_lightcruiser"}
LF_Enemy_Capital_Table[8]={"hgn_destroyer","vgr_destroyer","kus_destroyer","tai_destroyer","hgn_lightcruiser","hgn_lightcruiser", "hgn_lightcruiser","hgn_lightcruiser","tai_heavycruiser","kus_heavycruiser"}




LF_ENE4_Size={0,0,0,1,0,0,5,10}

LF_Enemy_SuperCap_Table={}
LF_Enemy_SuperCap_Table[1]={}
LF_Enemy_SuperCap_Table[2]={}
LF_Enemy_SuperCap_Table[3]={}
LF_Enemy_SuperCap_Table[4]={}
LF_Enemy_SuperCap_Table[5]={"tur_p1mothership_m15"}
LF_Enemy_SuperCap_Table[6]={"kad_p2mothership_lf"}
LF_Enemy_SuperCap_Table[7]={"tai_heavycruiser","kus_heavycruiser"}
LF_Enemy_SuperCap_Table[8]={"hgn_battlecruiser","vgr_battlecruiser","hgn_dreadnaught","kpr_destroyerm10","tur_carrier","kpr_arsenalship"}

LF_ENE5_Size={0,0,0,0,1,1,2,6}




WAVE_Enemy_Size={}
              --   F C FF C SC HW1
WAVE_Enemy_Size[1]={2,1,0,0,0,1}
WAVE_Enemy_Size[2]={2,2,2,0,0,1}
WAVE_Enemy_Size[3]={3,3,5,0,0,1}
WAVE_Enemy_Size[4]={4,4,4,1,0,2}
WAVE_Enemy_Size[5]={0,0,14,0,2,7}
WAVE_Enemy_Size[6]={0,4,7,0,1,11}
WAVE_Enemy_Size[7]={2,3,5,2,2,4}
WAVE_Enemy_Size[8]={2,3,6,3,2,5}




function AXED_PLAYEFFECT()

FX_PlayEffect("pro_tech_hyperspace_flare_planetkiller","vol_Enemy"..volNum,1.3)
FX_PlayEffect("pro_tech_hyperspace_flare_planetkiller","vol_Enemy"..volNum,0.3)



for t=1,4 do
     local Time_NOW=Universe_GameTime()
  epsx=mod(random(0,Time_NOW+2000),2000)-1000
  epsy=mod(random(0,Time_NOW+2000),2000)-1000
  epsz=mod(random(0,Time_NOW+2000),2000)-1000

  Volume_AddSphere("tmp_exp"..index..volNum..t,{Pos_Vol[volNum][1]+epsx,Pos_Vol[volNum][2]+epsy,Pos_Vol[volNum][3]+epsz,},1000)

  FX_PlayEffect("pro_tech_hyperspace_flare_planetkiller","tmp_exp"..index..volNum..t,0.3)
  Volume_Delete("tmp_exp"..index..volNum..t)

end

end


function WAVE_Spawn_Enemy(index,volNum)




 SobGroup_Create("ENEMY"..index.."_"..volNum)
 SobGroup_Create("ENEMYF"..index.."_"..volNum)
 
 

 --SobGroup_SpawnNewShipInSobGroup(1, "unk_marker_ob", "OB_"..index.."_vol"..volNum, "ENEMY"..index.."_"..volNum, "vol_Enemy"..volNum)
 --SobGroup_SpawnNewShipInSobGroup(1, "unk_marker_ob", "OB_"..index.."_vol"..volNum, "ENEMYF"..index.."_"..volNum, "vol_Enemy"..volNum)
 
 --SobGroup_ParadeSobGroup("ENEMY"..index.."_"..volNum, "MARKER"..volNum, 1)
-- SobGroup_ParadeSobGroup("ENEMYF"..index.."_"..volNum, "MARKER"..volNum, 1)

 
--Spawn FIGHTER

  if LF_ENE1_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][1] do 
    local roll=random(1,LF_ENE1_Size[index])
    
  --  SobGroup_CreateShip("ENEMYF"..index.."_"..volNum, LF_Enemy_Fighter_Table[index][roll]) 

   SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_Fighter_Table[index][roll], "RF_"..index.."_Sqad"..i, "ENEMYF"..index.."_"..volNum, "vol_Enemy"..volNum)
    end
  end
--Spawn CORVETTE

  if LF_ENE2_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][2] do 
    local roll=random(1,LF_ENE2_Size[index])
 --   SobGroup_CreateShip("ENEMYF"..index.."_"..volNum, LF_Enemy_Corvette_Table[index][roll]) 

    SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_Corvette_Table[index][roll], "RC_"..index.."_Sqad"..i, "ENEMYF"..index.."_"..volNum,"vol_Enemy"..volNum)
    end
  end

--Spawn HW1 Strike Crafts

  if LF_ENE_HW1_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][6] do 
    local roll=random(1,LF_ENE_HW1_Size[index])
  --      SobGroup_CreateShip("ENEMYF"..index.."_"..volNum, LF_Enemy_HW1_Table[index][roll]) 

    SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_HW1_Table[index][roll], "RHW1_"..index.."_Sqad"..i, "ENEMYF"..index.."_"..volNum,"vol_Enemy"..volNum)
    end
  end


--Spawn FRIGATE

  if LF_ENE3_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][3] do 
    local roll=random(1,LF_ENE3_Size[index])
  --          SobGroup_CreateShip("ENEMY"..index.."_"..volNum, LF_Enemy_Frigate_Table[index][roll]) 

   SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_Frigate_Table[index][roll], "RFF_"..index.."_Sqad"..i,"ENEMY"..index.."_"..volNum, "vol_Enemy"..volNum)
    end
  end

--Spawn Capital

  if LF_ENE4_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][4] do 
    local roll=random(1,LF_ENE4_Size[index])
  --           SobGroup_CreateShip("ENEMY"..index.."_"..volNum,  LF_Enemy_Capital_Table[index][roll]) 
   
    SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_Capital_Table[index][roll], "RCa_"..index.."_Sqad"..i,"ENEMY"..index.."_"..volNum, "vol_Enemy"..volNum)
    end
  end
--Spawn SuperCapital

  if LF_ENE5_Size[index]~=0 then
    for i=1,WAVE_Enemy_Size[index][5] do 
    local roll=random(1,LF_ENE5_Size[index])
    
   --   SobGroup_CreateShip("ENEMY"..index.."_"..volNum,  LF_Enemy_SuperCap_Table[index][roll]) 

    SobGroup_SpawnNewShipInSobGroup(1, LF_Enemy_SuperCap_Table[index][roll], "RSC_"..index.."_Sqad"..i,"ENEMY"..index.."_"..volNum, "vol_Enemy"..volNum)
    end
  end





--SobGroup_FormStrikeGroup("ENEMYF"..index.."_"..volNum,"sphere" )
--SobGroup_FormStrikeGroup("ENEMY"..index.."_"..volNum,"wall" )




--   SobGroup_ParadeSobGroup("ENEMY"..index.."_"..volNum, "MARKER"..volNum, 2)
--  SobGroup_ParadeSobGroup("ENEMYF"..index.."_"..volNum, "MARKER"..volNum, 2) 
    


end

function ENEMY_Maintain()


Player_FillSobGroupInVolume("ACTIVE_ATK", 1,"INNER")


--for i=1,g_wavenow-1 do

  --for j=1,4 do
  
        -- SobGroup_AttackPlayer("ENEMY"..i.."_"..j, 0)
        -- SobGroup_AttackPlayer("ENEMYF"..i.."_"..j, 0)
              
 --       SobGroup_Clear("TMP_"..i.."_"..j)
  --      SobGroup_Clear("TMPF_"..i.."_"..j)
 
 -- end

--end
  SobGroup_AttackPlayer("ACTIVE_ATK", 0)

end



Events["waitA"] = {{{"wtID = Wait_Start(2)", "Wait_End(wtID)"},},}

 
function WAVE_BringThemBack(index)
  --  SobGroup_ParadeSobGroup("ENEMY"..index.."_1", "MARKER1", 1)
  --  SobGroup_ParadeSobGroup("ENEMYF"..index.."_1", "MARKER1", 1)
  --  SobGroup_ParadeSobGroup("ENEMY"..index.."_2", "MARKER2", 1)
  --  SobGroup_ParadeSobGroup("ENEMYF"..index.."_2", "MARKER2", 1)
  --  SobGroup_ParadeSobGroup(" ENEMY"..index.."_3", "MARKER3", 1)
  --  SobGroup_ParadeSobGroup("ENEMYF"..index.."_3", "MARKER3", 1)
  --  SobGroup_ParadeSobGroup("ENEMY"..index.."_4", "MARKER4", 1)
  --  SobGroup_ParadeSobGroup("ENEMYF"..index.."_4", "MARKER4", 1)
  
  for i=1,4 do
  _ALERT("TRYING TO BRING "..index.."_"..i.."BACK")
  SobGroup_ExitHyperSpace("ENEMY"..index.."_"..i,"vol_Enemy"..i)
  SobGroup_ExitHyperSpace("ENEMYF"..index.."_"..i,"vol_Enemy"..i)  
  end
  
  
end
